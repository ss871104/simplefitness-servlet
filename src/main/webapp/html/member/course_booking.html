<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/boostrap/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/member/course_booking.css">
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script src='../../js/member/calendar/moment.min.js'></script>
    <script src="../../js/boostrap/bootstrap.min.js"></script>

    <!-- FullCalendar v3.8.1 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.8.1/fullcalendar.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.8.1/fullcalendar.print.css" rel="stylesheet"
        media="print">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.8.1/fullcalendar.min.js"></script>
    <title>預約團體課</title>

</head>

<body>

    <div class="topnav">

        <a class="img_link" href="http://localhost:5500/html/home.html">
            <img class="logoImg" src="../../img/Simple_Fitness-logos_white.png" alt="">
        </a>

        <ul class="list-inline">
            <li class="dropdown">
                <a class="topnavBtn" id="home" href="http://localhost:5500/html/home.html">
                    <img class="icon" src="../../img/home.png" alt="" title="首頁">
                </a>
                <div class="dropdown-content">
                    <ul>
                        <li><a href="#">最新消息</a></li>
                        <li><a href="#">場館資訊</a></li>
                        <li><a href="#">課程資訊</a></li>
                        <li><a href="#">收費方式</a></li>
                    </ul>
                </div>
            </li>
            <li>
                <a class="topnavBtn" id="cart" href="#cart">
                    <img class="icon" src="../../img/cart.png" alt="" title="購物車">
                </a>
            </li>
            <li>
                <a class="topnavBtn" id="notice" href="#notice">
                    <img class="icon" src="../../img/bell.png" alt="" title="通知中心">
                </a>
            </li>
            <li class="dropdown">
                <a class="topnavBtn" id="user" href="#user">
                    <img class="icon" src="../../img/user.png" alt="" title="會員">
                </a>
                <div class="dropdown-content">
                    <ul>
                        <li><a href="#">登出</a></li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>

    <div class="side-menu">
        <ul class="nav">
            <li>
                <a href="#">
                    <i class="fa fa-users" aria-hidden="true"></i>
                    會員資料編輯
                </a>
            </li>
            <li>
                <a href="http://localhost:5500/html/booking.html">
                    <i class="fa fa-gavel" aria-hidden="true"></i>
                    課程預約
                </a>
                <ul>
                    <li>
                        <a href="http://localhost:5500/html/course_booking.html">
                            預約團課
                        </a>
                    </li>
                    <li>
                        <a href="http://localhost:5500/html/coach_booking.html">
                            預約教練課
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            我的預約
                        </a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <i class="fa fa-coins" aria-hidden="true"></i>
                    租借用品
                </a>
                <ul>
                    <li>
                        <a href="#">
                            我的租借清單
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>


    <div class="course_booking">
        <div class="contentTitle">
            <p><i class="fa-solid fa-list-check"> 預約團課</i></p>
            <select class="select" id="classLocation" name="classLocation">
                <option value="" selected>選擇場館</option>
                <option value="1">內湖康寧館</option>
                <option value="2">台北忠孝館</option>
                <option value="3">信義松仁館</option>
                <option value="4">新北三重館</option>
                <option value="5">新北汐止館</option>
            </select>
            <select class="select" id="classType" name="classType">
                <option value="" selected>選擇課程</option>
                <option value="1">基礎拳擊</option>
                <option value="2">拳擊有氧</option>
                <option value="3">入門瑜珈</option>
                <option value="4">進階瑜珈</option>
                <option value="5">空中瑜珈</option>
                <option value="6">飛輪燃脂</option>
                <option value="7">Zumba</option>
                <!-- <option value="coachClass">皮拉提斯</option> -->
            </select>
            <div class="titleBtn">
                <button type="submit" id="queryBooking" class="btn_submit">查詢課程</button>
            </div>
        </div>
        <div class="contentBody">
            <div id="example" class="calendarArea"></div>
        </div>
    </div>




</body>
<script>
    $(document).ready(function () {

        $("#example").fullCalendar({
            // 參數設定
            header: { // 頂部排版
                left: "prev,next today", // 左邊放置上一頁、下一頁和今天
                center: "title", // 中間放置標題
                right: "" // 右邊放置月、周、天
            },
            // defaultDate: "2022-08-12", // 起始日期
            weekends: true, // 顯示星期六跟星期日
            editable: true,  // 啟動拖曳調整日期
            allDay: true

        });

        $("#queryBooking").click(function () {
            if (!$("#classLocation").val()) {
                alert("未選擇場館，請選擇欲預約場館")
            } else if (!$("#classType").val()) {
                alert("未選擇課程，請選擇欲預約課程")
            } else {
                showCalendarEvent(classList.filter(item => item.classSubType == $("#classSubType").val()));
            }

        })

        function loadTeamClassList() {
            // $("#classSubType").show();
            // $("#coach").hide();

            // $("#classSubType").empty();
            // $("#classSubType").append("<option value=''>--請選擇課程--</option>");
            // //獲得課程清單(暫時讀取前端已建立物件)
            // teamClassTypeList.forEach(e => {
            //     $("#classSubType").append(`<option value=${e.value}>${e.name}</option>`);
            // })
            $.ajax({
                url: "",
                type: "GET",
                data: {},
                dataType: "json",
                beforeSend: function () {

                }, success: function () {

                }, error: function () {

                }
            })
        }

        function showCalendarEvent(item) {
            $('#example').fullCalendar('removeEvents')

            item.forEach(e => {
                var newEvent = new Object();
                newEvent.title = e.title;
                newEvent.start = moment(e.start).format();
                newEvent.allDay = false;
                $('#example').fullCalendar('renderEvent', newEvent);
            });

        }
    });


</script>


<script>
//     var teamClassTypeList = [
//         { name: "有氧舞蹈", value: "dancing" },
//         { name: "皮拉提斯", value: "pilates" },
//         { name: "拳擊", value: "boxing" },
//         { name: "飛輪", value: "flywheel" },
//     ];
//     var coachList = [
//         { name: "王教練", value: "coachWang" },
//         { name: "李教練", value: "coachLee" },
//         { name: "林教練", value: "coachLin" },
//         { name: "陳教練", value: "coachChen" },
//     ];

//     var classList = [
//         { title: "有氧舞蹈", start: "2022-08-01", end: "2022-08-01", classType: "teamClass", classSubType: "dancing" },
//         { title: "皮拉提斯", start: "2022-08-04", end: "2022-08-04", classType: "teamClass", classSubType: "pilates" },
//         { title: "拳擊", start: "2022-08-17", end: "2022-08-17", classType: "teamClass", classSubType: "boxing" },
//         { title: "飛輪", start: "2022-08-15", end: "2022-08-15", classType: "teamClass", classSubType: "flywheel" },
//         { title: "有氧舞蹈", start: "2022-08-13", end: "2022-08-13", classType: "teamClass", classSubType: "dancing" },
//         { title: "有氧舞蹈", start: "2022-08-28", end: "2022-08-28", classType: "teamClass", classSubType: "dancing" },
//         { title: "飛輪", start: "2022-08-25", end: "2022-08-25", classType: "teamClass", classSubType: "flywheel" },
//     ];

//     $(document).ready(function () {
//         $("#classSubType").hide();
//         // $("#coach").hide();

//         $("#example").fullCalendar({
//             // 參數設定[註1]
//             header: { // 頂部排版
//                 left: "prev,next today", // 左邊放置上一頁、下一頁和今天
//                 center: "title", // 中間放置標題
//                 right: "" // 右邊放置月、周、天
//             },
//             // defaultDate: "2022-08-12", // 起始日期
//             weekends: true, // 顯示星期六跟星期日
//             editable: true,  // 啟動拖曳調整日期
//             allDay: true

//         });

//     });
//     $("#classType").change(function () {
//         //團克
//         if ($("#classType").val() == "teamClass") {
//             loadTeamClassList();
//         }
//         // else {
//         //     loadCoachList();
//         // }
//     });


//     $("#queryBooking").click(function () {
//         //判斷有沒有正確選擇條件
//         if ((!$("#classLocation").val()) || (!$("#classType").val()) || (!$("#classSubType").val() && !$("#coach").val())) {
//             alert("請確認有無正確選擇查詢條件!")
//         }
//         else {
//             if ($("#classType").val() == "teamClass") {
//                 showCalendarEvent(classList.filter(item => item.classSubType == $("#classSubType").val()));
//             }
//         }
//     });
//     $("#createBooking").click(function () {

//         aa();

//     });

//     function loadTeamClassList() {
//         $("#classSubType").show();
//         $("#coach").hide();

//         $("#classSubType").empty();
//         $("#classSubType").append("<option value=''>--請選擇課程--</option>");
//         //獲得課程清單(暫時讀取前端已建立物件)
//         teamClassTypeList.forEach(e => {
//             $("#classSubType").append(`<option value=${e.value}>${e.name}</option>`);
//         })
//     }
//     function loadCoachList() {
//         $("#coach").show();
//         $("#classSubType").hide();

//         $("#coach").empty();
//         $("#coach").append("<option value=''>--請選擇教練--</option>");
//         //獲得課程清單(暫時讀取前端已建立物件)
//         coachList.forEach(e => {
//             $("#coach").append(`<option value=${e.value}>${e.name}</option>`);
//         })
//     }
//     function showCalendarEvent(item) {
//         $('#example').fullCalendar('removeEvents')

//         item.forEach(e => {
//             var newEvent = new Object();
//             newEvent.title = e.title;
//             newEvent.start = moment(e.start).format();
//             newEvent.allDay = false;
//             $('#example').fullCalendar('renderEvent', newEvent);
//         });

//     }
</script>

</html>